.flag-cube-wrapper {
  --REVERT_DURATION: 6s;
}

.flag-cube-wrapper * {
  box-sizing: border-box;
}

.flag-cube-wrapper .flag-cube-placeholder {
  display: none;
}

.flag-cube-wrapper body {
  background: #25335b;
}

.flag-cube-wrapper .container {
  /* Remove the previous negative offset so the cube sits naturally between
     the intro text and the following content. Keep the skew for the 3D look
     but center the block and add spacing above/below so it appears "alone." */
  position: relative;
  top: 0;
  transform: skewY(-20deg);
  display: inline-block; /* shrinkwrap so the parent flex centering works cleanly */
  /* deutlich mehr Abstand: der Würfel steht sichtbar allein zwischen
    Intro und Beitragsliste */
  margin-top: 6rem;   /* ca. 96px - mehr Abstand zum Intro (z. B. zum Wort "Grün") */
  margin-bottom: 8rem; /* ca. 128px */
}

.flag-cube-wrapper .container .cube {
  position: relative;
  z-index: 2;
}
.flag-cube-wrapper .container .cube:nth-child(2) {
  z-index: 1;
  transform: translate(-60px, -60px);
}
.flag-cube-wrapper .container .cube:nth-child(3) {
  z-index: 3;
  transform: translate(60px, 60px);
}

.flag-cube-wrapper .container .cube > div {
  position: absolute;
  display: flex;
  flex-direction: column;
  gap: 30px;
  transform: translate(calc(-70px * var(--x)), calc(-60px * var(--y)));
}

.flag-cube-wrapper .container .cube > div > span {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 50px;
  z-index: calc(1 * var(--i));
  cursor: pointer;
  --flag-color: #ffffff;
  --flag-color-light: #f2f2f2;
  --flag-color-lighter: #e6e6e6;
  background: var(--flag-color);
  transition-property: background, filter;
  transition-duration: var(--REVERT_DURATION);
  transition-timing-function: ease;
  overflow: visible;
}
.flag-cube-wrapper .container .cube > div > span::before,
.flag-cube-wrapper .container .cube > div > span::after {
  content: "";
  position: absolute;
  transition-property: background;
  transition-duration: var(--REVERT_DURATION);
  transition-timing-function: ease;
}
.flag-cube-wrapper .container .cube > div > span::before {
  left: -40px;
  width: 40px;
  height: 100%;
  background: var(--flag-color-light);
  transform-origin: right;
  transform: skewY(45deg);
}
.flag-cube-wrapper .container .cube > div > span::after {
  top: -40px;
  left: 0;
  width: 100%;
  height: 40px;
  background: var(--flag-color-lighter);
  transform-origin: bottom;
  transform: skewX(45deg);
}

/* Hover: immediate color change */
.flag-cube-wrapper .container .cube > div > span:hover {
  transition-duration: 0s;
  background: var(--hover-color);
  filter: drop-shadow(0 0 20px var(--hover-color));
}
.flag-cube-wrapper .container .cube > div > span:hover::before,
.flag-cube-wrapper .container .cube > div > span:hover::after {
  transition-duration: 0s;
  background: var(--hover-color-light);
}

/* Row colors */
.flag-cube-wrapper .container .cube > div:nth-child(1) > span {
  --hover-color: #000000;
  --hover-color-light: #333333;
  --hover-color-lighter: #555555;
}
.flag-cube-wrapper .container .cube > div:nth-child(2) > span {
  --hover-color: #ffffff;
  --hover-color-light: #f2f2f2;
  --hover-color-lighter: #e6e6e6;
}
.flag-cube-wrapper .container .cube > div:nth-child(3) > span {
  --hover-color: #007a3d;
  --hover-color-light: #00994d;
  --hover-color-lighter: #33aa66;
}

/* Left triangle (first span in each column) */
.flag-cube-wrapper .container .cube > div > span:first-child {
  --hover-color: #ce1126;
  --hover-color-light: #e63946;
  --hover-color-lighter: #f06263;
}
